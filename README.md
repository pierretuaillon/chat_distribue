<div class="rst-content">

<div role="navigation" aria-label="breadcrumbs navigation">

*   [Docs](../index.html) »
*   1\. Client de chat distribué
*   [View page source](../_sources/projet/chat.txt)

* * *

</div>

<div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">

<div itemprop="articleBody">

<div class="section" id="client-de-chat-distribue">

# 1\. Client de chat distribué[¶](#client-de-chat-distribue "Lien permanent vers ce titre")

L’objectif est de mettre au point un service de chat distribué pair à pair, et donc sans controleur central. Aucun noeud ne devra avoir de rôle particulier, ou ne connaitra l’ensemble des pairs. Le but est en effet que le système puisse en théorie supporter des milliers (ou des millions) de pairs.

Cet ensemble de pairs sera organisé sous la forme d’un anneau Chord virtuel et dynamique. Le protocole exécuté par les pairs assurera le maintient de cet anneau lors de l’arrivée ou du départ de pairs.

L’accès au système s’effectuera via une ou plusieurs attaches (handles, poignées) qui seront des pairs actifs connus par un serveur fixe et déterminé (l’annuaire). Par exemple, l’annuaire pourrait permettre de connaitre les adresses IPs d’un certains nombre de pairs potentiellement présents dans le système (par exemple les 10 derniers a être entrés).

<dl class="docutils">

<dt>_Nature des pairs:_:</dt>

<dd>

<dl class="first last docutils">

<dt>On va supposer que</dt>

<dd>

*   les pairs sont honnêtes et appliquent le protocole (pas de hacker, d’attaquants, de leechers, de tricheurs).
*   les “pannes” (connection réseau trop lente ou interompue, batterie à plat, deconnection brutale ... ) sont supposées assez rares mais probables. À titre d’exemple si on est connecté un à un seul pair il est très probable qu’il disparaisse un jour, mais si on est connecté à 10 pairs (aléatoires) on suppose que leur disparition simultannée (dans les mêmes 10 secondes) est un évènement exceptionnel (en ce cas on se deconnecte aussi et tant pis)

</dd>

</dl>

</dd>

</dl>

_La structure d’un pair_

> <div>
> 
> Un pair sera constitué de deux parties distinctes et indépendantes :
> 
> *   Un client du système de chat
> *   son interface (texte, graphique).
> 
> </div>

L’interaction entre ces deux parties s’effectuera soit via des appels de méthodes soit en modifiant des objets partagés. _Vous proposerez au moins une interface de type console_ mais vous prendrez soin de rendre l’ajout de nouvelles interfaces (Web, Téléphone) facile.

</div>

<div class="section" id="specification-et-implementation-d-un-systeme-simplifie-14-20-4">

# 2\. Spécification et implémentation d’un système simplifié (14/20) +4[¶](#specification-et-implementation-d-un-systeme-simplifie-14-20-4 "Lien permanent vers ce titre")

Dans ce système simplifié vous pouvez :

*   Utiliser Un anneau standard (sans cordes) en pratique c’est inutilisable car la recherche d’un pair induit <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 1.071em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.911em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.392em 1000.91em 2.407em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: MathJax_Math-italic;">N<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span><mi>N</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-1">N</script></span> communications, de plus la tolérance aux “pannes” est quasi nulle.
*   Supposer que les pairs ne tombent jamais en panne et que toute deconnection est négociée (ie un pair qui s’en va exécute _Leave_).

[<span class="problematic" id="id2">*</span>](#id1)Je vous conseille cependant dès le départ d’utiliser un anneau Chord et de prendre en compte la volatilité des pairs (timeout)

<div class="section" id="l-annuaire-0-20-2">

## 2.1\. L’Annuaire (0/20) +2[¶](#l-annuaire-0-20-2 "Lien permanent vers ce titre")

Vous pouvez utiliser un annuaire ultra-simplfié qui réfère à l’adresse IP/port d’un pair toujours connecté.

_Annuaire amélioré_ : Un tel annuaire est un service qui renvoie un ensemble d’adresses de pairs recemments actifs dans le système. Les pairs souhaitant rejoindre le système le consule et l’annuaire est mis à jour régulierement.

L’ajout d’un tel annuaire donnera un bonus de 1-2 points.

</div>

<div class="section" id="specification-du-protocole-distribue-3-20">

## 2.2\. Spécification du protocole distribué (3/20)[¶](#specification-du-protocole-distribue-3-20 "Lien permanent vers ce titre")

Les communications entre pairs s’effectueront via des communications TCP, vous utiliserez un protocole client serveur spécifique (de la même nature que le protocole HTTP ou l’on envoie des messages de type GET ou POST associé à un ensemble de paramètres). Le pair distant détermine alors les méthodes qu’il doit exécuter ainsi que et leurs arguments en effectuant une analyse lexicale rudimentaire (pattern matching etc... ).

> <div>
> 
> _L’adressage des pair_:
> 
> > <div>
> > 
> > Dans le système on pourra communiquer avec (i.e référencer) un pair soit en utilisant une socket déjà connectée à ce pair, soit en utilisant _le couple (adresse-IP, port)_ sur lequel l’interface de ce pair est active (ie en pratique un SocketServer) est actif sur cette IP et ce port. Le port utilisé par le protocole n’est donc pas fixé – même si bien entendu un port par défaut peut être convenu–.
> > 
> > Ceci vous permettra d’éxecuter plusieur pairs sur la même machine en leur affectant des ports différents.
> > 
> > Si vous le souhaitez vous pouvez sérialiser les appels de fonction distants, ceci évite en effet une analyse lexicale (même minime) des messages transmis. Mais en ce cas vous le ferez en utilisant une sérialisation compatibles avec d’autre langages (jyson, xml ou autre).
> > 
> > </div>
> 
> </div>

Quelque soit votre choix d’implémentation :

_Spécification et protocole (3points)_:

> <div>
> 
> *   _Il vous est demandé de définir un protocole distribué(tel http, ssh, mail,bitorrent) parfaitement indépendant de Java et permettant donc à priori d’utiliser des pairs utilisant des implémentation hétérogènes_.
> *   Les aspects sémantiques du protocole (en langage naturel et informel) seront décrits.
> *   Votre implémentation en Java devra correspondre au protocole que vous aurez défini.
> 
> </div>

</div>

<div class="section" id="le-protocole-d-anneau-virtuel-3-20">

## 2.3\. Le protocole d’anneau virtuel (3/20)[¶](#le-protocole-d-anneau-virtuel-3-20 "Lien permanent vers ce titre")

N.B : la pluspart des méthodes retourneront à Timeout

Les pairs seront organisés sous la forme d’un anneau principal _Chord_ (voir le TP6). Chaque pair aura donc un identifiant codé sur 64 bits (sa clef _key_) qui déterminera sa place sur l’anneau, celui ci pourra être obtenu en applicant une fonction de hachage à l’IP du pair ou à l’identifiant de l’utilisateur, ou encore être simplement aléatoire.

*   Chaque pair maintiendra des références distantes (ou des sockets ouvertes) vers ses prédécesseurs et succeseurs sur l’anneau chord.
*   Chaque pair restera accessible afin d’accueillir d’eventuels nouveau pairs dans l’anneau (via un ServerSocket)

Tout pair proposera la méthode (distance) _FindMainChord(long key)_ qui sera appelée par un pair ayant pour clef _key_ souhaitant rejoindre l’anneau. Celle ci retournera l’emplacement de _key_ dans l’anneau (ie d’adresse IP su successeur de _key_ dans l’anneau).

Tout pair <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-4" style="width: 0.59em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.483em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.659em 1000.48em 2.62em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-5"><span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math-italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span><mi>p</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-2">p</script></span> proposera la méthode _JoinMainChord_ qui inserera le pair <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-7" style="width: 0.59em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.483em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.659em 1000.48em 2.62em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-8"><span class="mi" id="MathJax-Span-9" style="font-family: MathJax_Math-italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span><mi>p</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-3">p</script></span> dans l’anneau chord à l’emplacement <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-10" style="width: 3.742em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.208em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.338em 1003.1em 2.674em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-11"><span class="mi" id="MathJax-Span-12" style="font-family: MathJax_Math-italic;">p</span><span class="mo" id="MathJax-Span-13" style="font-family: MathJax_Main;">.</span><span class="mi" id="MathJax-Span-14" style="font-family: MathJax_Math-italic; padding-left: 0.163em;">k</span><span class="mi" id="MathJax-Span-15" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-16" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-17" style="font-family: MathJax_Main;">(</span><span class="mo" id="MathJax-Span-18" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo>.</mo><mi>k</mi><mi>e</mi><mi>y</mi><mo stretchy="false">(</mo><mo stretchy="false">)</mo></math></span><mi>p</mi><mo>.</mo><mi>k</mi><mi>e</mi><mi>y</mi><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-4">p.key()</script></span> et initialisera ses connections (ou réfeŕences distantes) vers son prédecesseur et son successeur. De facon symétrique on définira la méthode _LeaveMainCHord_ celle ci devra mettre à jour les liens de l’anneau virtuel (i,e le prédecesseur de <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-19" style="width: 0.59em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.483em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.659em 1000.48em 2.62em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-20"><span class="mi" id="MathJax-Span-21" style="font-family: MathJax_Math-italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span><mi>p</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-5">p</script></span> devra dès lors pointer sur le successeur de <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-22" style="width: 0.59em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.483em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.659em 1000.48em 2.62em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-23"><span class="mi" id="MathJax-Span-24" style="font-family: MathJax_Math-italic;">p</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi></math></span><mi>p</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-6">p</script></span>).

Tout pair proposera la méthode _ForwardMessage(some data)_ qui fera circuler un message vers son/ses sucesseurs, on veillera a ne pas transmettre le même message deux fois.

</div>

<div class="section" id="les-salons-de-conversation-6-20">

## 2.4\. Les salons de conversation (6/20)[¶](#les-salons-de-conversation-6-20 "Lien permanent vers ce titre")

Un salon de conversation sera un sous ensemble des pairs du système. Ainsi chaque pair appartiendra à un ensemble éventuellement vide de _salons_.

Les fonctionnalités principales utilisateur sont :

*   _GetChatRoomsList()_ : renvoie la liste des identifiants des salles de chat.
*   _JoinChatRoom(long chatkey)_ : rejoint la salle si elle existe, la crée sinon.
*   _SendToChatRoom(String s, long chatkey)_ envoie un message dans le salon _chatkey_.
*   _ReadChatRoom(longchatkey)_ référence à un tampon stockant les messages venant du salon.

Les fonctionnalités protocole seront de

*   transmettre ou retransmettre les messages du salon.
*   d accueillir les nouveaux venus dans le salon.
*   maintenir la structure du salon

On pourra organiser chaque salon trivialement (soit par un graphe complet -chacun connait tous les membres , ou arbre chacun connait un membre) ou un organisation ad-hoc. Cependant je vous conseille une organisation en anneau virtuel _Chord_ comme l’anneau principal. On pourra par exemple utiliser une tache de service (elle même potentiellement multi-thread) par salon, mais ceci n’est pas impératif.

</div>

<div class="section" id="la-gestion-des-salons-2-20-2">

## 2.5\. La gestion des salons (2/20)+2[¶](#la-gestion-des-salons-2-20-2 "Lien permanent vers ce titre")

On pourra opter pour diverses solutions concernant la gestion des salons de discussion:

*   La gestion naive (qui ne passe pas à l’echelle) : _GetChatRoomsList()_ innonde le réseau en demandant aux pairs la liste de leur salons, la liste des salles trouvées apparait dynamiquement et à chaque salon découvert est associé un ensemble de pairs a contacter.
*   Gestion naive (alternative) : tous les pairs connaissent la liste des salons (pas nécessairement à jour) et pour chaque salon une liste de membres et on essaie de garder ces informations à jour.
*   _La gestion par annuaire_ (bonus +2) : on associe a chaque salon <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-25" style="width: 0.857em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.697em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.392em 1000.7em 2.407em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-26"><span class="mi" id="MathJax-Span-27" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 1.003em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi></math></span><mi>S</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-7">S</script></span> une clef <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-28" style="width: 2.994em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.567em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.392em 1002.57em 2.62em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-29"><span class="mi" id="MathJax-Span-30" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-31" style="font-family: MathJax_Main;">.</span><span class="mi" id="MathJax-Span-32" style="font-family: MathJax_Math-italic; padding-left: 0.163em;">k</span><span class="mi" id="MathJax-Span-33" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-34" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><mo>.</mo><mi>k</mi><mi>e</mi><mi>y</mi></math></span><mi>S</mi><mo>.</mo><mi>k</mi><mi>e</mi><mi>y</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-8">S.key</script></span>, et on utilise un dictionnaire distribué <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-35" style="width: 1.872em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.605em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.392em 1001.61em 2.407em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-36"><span class="mi" id="MathJax-Span-37" style="font-family: MathJax_Math-italic;">D</span><span class="mi" id="MathJax-Span-38" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-39" style="font-family: MathJax_Math-italic;">c</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi><mi>i</mi><mi>c</mi></math></span><mi>D</mi><mi>i</mi><mi>c</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-9">Dic</script></span> porté par l’anneau Chord principal afin de stocker les informations afférentes au salon dans la “case” <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-40" style="width: 5.558em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.757em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.338em 1004.65em 2.674em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-41"><span class="mi" id="MathJax-Span-42" style="font-family: MathJax_Math-italic;">D</span><span class="mi" id="MathJax-Span-43" style="font-family: MathJax_Math-italic;">i</span><span class="mi" id="MathJax-Span-44" style="font-family: MathJax_Math-italic;">c</span><span class="mo" id="MathJax-Span-45" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-46" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mo" id="MathJax-Span-47" style="font-family: MathJax_Main;">.</span><span class="mi" id="MathJax-Span-48" style="font-family: MathJax_Math-italic; padding-left: 0.163em;">k</span><span class="mi" id="MathJax-Span-49" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-50" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-51" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi><mi>i</mi><mi>c</mi><mo stretchy="false">[</mo><mi>S</mi><mo>.</mo><mi>k</mi><mi>e</mi><mi>y</mi><mo stretchy="false">]</mo></math></span><mi>D</mi><mi>i</mi><mi>c</mi><mo stretchy=&quot;false&quot;>[</mo><mi>S</mi><mo>.</mo><mi>k</mi><mi>e</mi><mi>y</mi><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-10">Dic[S.key]</script></span>. (N.B seule cette méthode passe à l’échelle).

</div>

</div>

<div class="section" id="client-renforce-vrai-reseau-chord-6-20">

# 3\. Client renforcé (Vrai réseau Chord) 6/20[¶](#client-renforce-vrai-reseau-chord-6-20 "Lien permanent vers ce titre")

*   Le pair de clef <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-52" style="width: 1.765em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.498em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.392em 1001.5em 2.62em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-53"><span class="mi" id="MathJax-Span-54" style="font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-55" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-56" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mi>e</mi><mi>y</mi></math></span><mi>k</mi><mi>e</mi><mi>y</mi></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-11">key</script></span> établira, comme dans un vrai réseau chord, des connections directes vers le pair responsable s:math:<cite>key+4^i</cite> pour <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-57" style="width: 10.633em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.084em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.338em 1008.98em 2.674em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-58"><span class="mi" id="MathJax-Span-59" style="font-family: MathJax_Math-italic;">i</span><span class="mo" id="MathJax-Span-60" style="font-family: MathJax_Main; padding-left: 0.27em;">∈</span><span class="msubsup" id="MathJax-Span-61" style="padding-left: 0.27em;"><span style="display: inline-block; position: relative; width: 1.712em; height: 0px;"><span style="position: absolute; clip: rect(3.154em 1001.28em 4.383em -999.997em); top: -4.004em; left: 0em;"><span class="mi" id="MathJax-Span-62" style="font-family: MathJax_Main;">log</span><span style="display: inline-block; width: 0px; height: 4.009em;"></span></span><span style="position: absolute; top: -3.737em; left: 1.285em;"><span class="mn" id="MathJax-Span-63" style="font-size: 70.7%; font-family: MathJax_Main;">4</span><span style="display: inline-block; width: 0px; height: 4.009em;"></span></span></span></span><span class="mo" id="MathJax-Span-64"></span><span class="mo" id="MathJax-Span-65" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-66" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-67" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-68" style="font-family: MathJax_Math-italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mi" id="MathJax-Span-69" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span class="mi" id="MathJax-Span-70" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-71" style="font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-72" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>∈</mo><msub><mi>log</mi><mn>4</mn></msub><mo>⁡</mo><mo stretchy="false">(</mo><mi>K</mi><mi>E</mi><mi>Y</mi><mi>M</mi><mi>A</mi><mi>X</mi><mo stretchy="false">)</mo></math></span><mi>i</mi><mo>&amp;#x2208;</mo><msub><mi>log</mi><mn>4</mn></msub><mo>&amp;#x2061;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>K</mi><mi>E</mi><mi>Y</mi><mi>M</mi><mi>A</mi><mi>X</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-12">i \in \log_4(KEYMAX)</script></span>.
*   On modifiera le protocole de recherche de clef afin qu’il utilise les chordes et nécéssite au plus <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-73" style="width: 9.191em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.855em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.338em 1007.75em 2.674em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-74"><span class="mi" id="MathJax-Span-75" style="font-family: MathJax_Math-italic;">O</span><span class="mo" id="MathJax-Span-76" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-77" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-78" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-79" style="font-family: MathJax_Math-italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-80" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-81" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-82" style="font-family: MathJax_Math-italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mi" id="MathJax-Span-83" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span class="mi" id="MathJax-Span-84" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-85" style="font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-86" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>K</mi><mi>E</mi><mi>Y</mi><mi>M</mi><mi>A</mi><mi>X</mi><mo stretchy="false">)</mo></math></span><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mi>K</mi><mi>E</mi><mi>Y</mi><mi>M</mi><mi>A</mi><mi>X</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-13">O(log KEYMAX)</script></span> envois de message au lien de <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-87" style="width: 8.015em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.84em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.338em 1006.79em 2.674em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-88"><span class="mi" id="MathJax-Span-89" style="font-family: MathJax_Math-italic;">O</span><span class="mo" id="MathJax-Span-90" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-91" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.056em;"></span></span><span class="mi" id="MathJax-Span-92" style="font-family: MathJax_Math-italic;">E<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mi" id="MathJax-Span-93" style="font-family: MathJax_Math-italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.163em;"></span></span><span class="mi" id="MathJax-Span-94" style="font-family: MathJax_Math-italic;">M<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.11em;"></span></span><span class="mi" id="MathJax-Span-95" style="font-family: MathJax_Math-italic;">A</span><span class="mi" id="MathJax-Span-96" style="font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-97" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-98" style="font-family: MathJax_Main;">.</span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.316em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>K</mi><mi>E</mi><mi>Y</mi><mi>M</mi><mi>A</mi><mi>X</mi><mo stretchy="false">)</mo><mo>.</mo></math></span><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>K</mi><mi>E</mi><mi>Y</mi><mi>M</mi><mi>A</mi><mi>X</mi><mo stretchy=&quot;false&quot;>)</mo><mo>.</mo></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-14">O(KEYMAX).</script></span>
*   On s’assurera que ces connections restent active et si le pair associé à <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-99" style="width: 4.063em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.475em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.231em 1003.48em 2.62em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-100"><span class="mi" id="MathJax-Span-101" style="font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-102" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-103" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-104" style="font-family: MathJax_Main; padding-left: 0.216em;">+</span><span class="msubsup" id="MathJax-Span-105" style="padding-left: 0.216em;"><span style="display: inline-block; position: relative; width: 0.804em; height: 0px;"><span style="position: absolute; clip: rect(3.154em 1000.48em 4.169em -999.997em); top: -4.004em; left: 0em;"><span class="mn" id="MathJax-Span-106" style="font-family: MathJax_Main;">4</span><span style="display: inline-block; width: 0px; height: 4.009em;"></span></span><span style="position: absolute; top: -4.431em; left: 0.483em;"><span class="mi" id="MathJax-Span-107" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.009em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mi>e</mi><mi>y</mi><mo>+</mo><msup><mn>4</mn><mi>i</mi></msup></math></span><mi>k</mi><mi>e</mi><mi>y</mi><mo>+</mo><msup><mn>4</mn><mi>i</mi></msup></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-15">key+4^i</script></span> ne repond plus on le remplacera en recherchant à nouveau la clef <span class="math"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-108" style="width: 4.063em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.475em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.231em 1003.48em 2.62em -999.997em); top: -2.241em; left: 0em;"><span class="mrow" id="MathJax-Span-109"><span class="mi" id="MathJax-Span-110" style="font-family: MathJax_Math-italic;">k</span><span class="mi" id="MathJax-Span-111" style="font-family: MathJax_Math-italic;">e</span><span class="mi" id="MathJax-Span-112" style="font-family: MathJax_Math-italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-113" style="font-family: MathJax_Main; padding-left: 0.216em;">+</span><span class="msubsup" id="MathJax-Span-114" style="padding-left: 0.216em;"><span style="display: inline-block; position: relative; width: 0.804em; height: 0px;"><span style="position: absolute; clip: rect(3.154em 1000.48em 4.169em -999.997em); top: -4.004em; left: 0em;"><span class="mn" id="MathJax-Span-115" style="font-family: MathJax_Main;">4</span><span style="display: inline-block; width: 0px; height: 4.009em;"></span></span><span style="position: absolute; top: -4.431em; left: 0.483em;"><span class="mi" id="MathJax-Span-116" style="font-size: 70.7%; font-family: MathJax_Math-italic;">i</span><span style="display: inline-block; width: 0px; height: 4.009em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.246em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.378em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>k</mi><mi>e</mi><mi>y</mi><mo>+</mo><msup><mn>4</mn><mi>i</mi></msup></math></span><mi>k</mi><mi>e</mi><mi>y</mi><mo>+</mo><msup><mn>4</mn><mi>i</mi></msup></math>" role="presentation" style="position: relative;"></span><script type="math/tex" id="MathJax-Element-16">key+4^i</script></span>

</div>

<div class="section" id="fonctionnalites-additionnelles-0-20-4">

# 4\. Fonctionnalités additionnelles (0/20)+4[¶](#fonctionnalites-additionnelles-0-20-4 "Lien permanent vers ce titre")

*   Envoi de données structurées (Texte enrichi, musique, images, vidéo) (bonus +2)
*   Recherche d’un ami et invitation de celui-ci (les participants déposeront leur surnom dans la table de hachage, bien entendu il faudra connaitre le surnom de l’utilisateur a inviter (bonus +2)

</div>

</div>

</div>

</div>